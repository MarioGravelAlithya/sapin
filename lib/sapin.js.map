{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 49f6c495a15e2f11cee5","webpack:///external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}","webpack:///./src/common.js","webpack:///./src/collections.js","webpack:///./src/index.js","webpack:///./src/numbers-validators.js","webpack:///./src/required-validators.js","webpack:///./src/strings-validators.js","webpack:///./src/validate.js","webpack:///./src/validatorRunner.js"],"names":["Errors","required","isNumber","isInteger","isPositive","isNegative","isGt","isGte","isLt","isLte","isGtField","isGteToField","isLtField","isLteToField","withinRange","minLength","maxLength","isEmail","noTrim","internalFormatError","error","getValue","entity","path","validators","config","value","undefined","useTrim","indexOf","getNumber","transformedValue","replace","Number","isEmptyValue","defaultConfig","formatError","params","createConfig","newConfig","Object","assign","KNOWN_KEYS","Set","unexpectedKeys","has","key","length","Error","join","ValidatorTypes","object","collectionOfValues","collectionOfObjects","isObjectOrArrayOfFunctions","target","ret","ensureCollectionParamsAreValid","validator","valueValidator","collection","__validator","__valueValidator","__type","requiredIfOtherFieldIsTrue","requiredIfOtherFieldIsFalse","requiredIfOtherFieldEquals","validate","valueToTest","isNaN","numberValue","compareSign","err","getNumbers","otherFieldName","siblings","otherFieldValue","compareWithOtherField","otherFieldLabel","op","errorCode","operands","compareToThreshold","threshold","NaN","fieldName","fieldLabel","ensureRangeParamsAreValid","minValue","maxValue","expectedFieldValue","expectedValues","EMAIL_REGEX","test","internalProps","ensureArrayContainsOnlyFunctions","propName","i","ensureValidatorIsValid","propValidators","forEach","childPropName","prop","values","runner","run","ValidatorRunner","prototype","errors","validateObject","runFunctions","validations","validation","ensureValidatorErrorIsValid","purgedError","setError","errorObject","formattedError","validateField","propPath","applyValueValidatorOnObject","valueError","validateCollectionOfObjects","objectsCollection","idx","objectPath","validateCollectionOfValues","valuesCollection","valuePath","valueToValidate","objectValidator","propNameToValidate","propValidations"],"mappings":"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","file":"sapin.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sapin\", [\"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sapin\"] = factory(require(\"lodash\"));\n\telse\n\t\troot[\"sapin\"] = factory(root[\"_\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 49f6c495a15e2f11cee5","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}\n// module id = 0\n// module chunks = 0","import {get, trim, isArray, isString, keys, filter} from 'lodash'\n\nexport const Errors = {\n  required: 'sapin.required',\n  isNumber: 'sapin.invalidNumber',\n  isInteger: 'sapin.invalidInteger',\n  isPositive: 'sapin.valueShouldBePositive',\n  isNegative: 'sapin.valueShouldBeNegative',\n  isGt: 'sapin.valueShouldBeGt',\n  isGte: 'sapin.valueShouldBeGte',\n  isLt: 'sapin.valueShouldBeLt',\n  isLte: 'sapin.valueShouldBeLte',\n  isGtField: 'sapin.valueShouldBeGtField',\n  isGteToField: 'sapin.valueShouldBeGteField',\n  isLtField: 'sapin.valueShouldBeLtField',\n  isLteToField: 'sapin.valueShouldBeLteField',\n  withinRange: 'sapin.valueNotInRange',\n  minLength: 'sapin.valueNotLongEnough',\n  maxLength: 'sapin.valueTooLong',\n  isEmail: 'sapin.invalidEmail'\n}\n\nexport const noTrim = () => true\n\nconst internalFormatError = (error /*, config */) => {\n  return error\n}\n\nconst getValue = (entity, path, validators, config) => {\n  let value = get(entity, path, undefined)\n  if (typeof value === 'string' && config.useTrim) {\n    if (!isArray(validators) || validators.indexOf(noTrim) === -1) {\n      value = trim(value)\n    }\n  }\n  return value\n}\n\n// caller should not pass undefined or null\nconst getNumber = (value) => {\n  let transformedValue = value\n  if (isString(transformedValue)) {\n    transformedValue = transformedValue.replace(',', '.')\n  }\n  return Number(transformedValue)\n}\n\nconst isEmptyValue = (value) => value === undefined || value === null || value === ''\n\nexport const defaultConfig = {\n  formatError: internalFormatError,\n  getValue,\n  getNumber,\n  isEmptyValue,\n  useTrim: true,\n  params: {}\n}\n\nexport const createConfig = (newConfig) => {\n  const config = Object.assign({}, defaultConfig, newConfig)\n  if (process.env.NODE_ENV !== 'production') {\n    const KNOWN_KEYS = new Set(keys(defaultConfig))\n    const unexpectedKeys = filter(keys(newConfig), key => !KNOWN_KEYS.has(key))\n    if (unexpectedKeys.length) {\n      throw new Error(`createConfig received an unexpected key '${unexpectedKeys.join(', ')}'`)\n    }\n  }\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common.js","import {isNil, isArray, isObject, isFunction, every} from 'lodash'\nexport const ValidatorTypes = {\n  object: 1,\n  collectionOfValues: 2,\n  collectionOfObjects: 3\n}\n\nconst isObjectOrArrayOfFunctions = (target) => {\n  let ret = false\n  if (isArray(target)) {\n    ret = every(target, isFunction)\n  } else {\n    ret = isObject(target)\n  }\n  return ret\n}\n\nconst ensureCollectionParamsAreValid = (validator, valueValidator) => {\n  if (!isObjectOrArrayOfFunctions(validator)) {\n    throw new Error('The \\'validator\\' argument of collection must be a validator object or an array of validator functions')\n  } else if (!isNil(valueValidator) && !isObjectOrArrayOfFunctions(valueValidator)) {\n    throw new Error('The \\'valueValidator\\' argument of collection must be a validator object or an array of validator functions')\n  }\n}\n\nexport const collection = (validator, valueValidator) => {\n  const ret = {\n    __validator: validator,\n    __valueValidator: valueValidator\n  }\n\n  /* istanbul ignore else: node-env */\n  if (process.env.NODE_ENV !== 'production') {\n    ensureCollectionParamsAreValid(validator, valueValidator)\n  }\n\n  // validator is either an array or an object when we reach this point\n  if (isArray(validator) || isFunction(validator)) {\n    ret.__type = ValidatorTypes.collectionOfValues\n  } else {\n    ret.__type = ValidatorTypes.collectionOfObjects\n  }\n  return ret\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections.js","export {\r\n  isNumber,\r\n  isInteger,\r\n  isPositive,\r\n  isNegative,\r\n  isGt, isGte, isLt, isLte,\r\n  isGtField,\r\n  isGteToField,\r\n  isLtField,\r\n  isLteToField,\r\n  withinRange\r\n} from './numbers-validators'\r\n\r\nexport {\r\n  required,\r\n  requiredIfOtherFieldIsTrue,\r\n  requiredIfOtherFieldIsFalse,\r\n  requiredIfOtherFieldEquals\r\n} from './required-validators'\r\n\r\nexport {\r\n  createConfig,\r\n  noTrim\r\n} from './common'\r\n\r\nexport {\r\n  minLength,\r\n  maxLength,\r\n  isEmail\r\n} from './strings-validators'\r\n\r\nexport {collection} from './collections'\r\n\r\nexport {\r\n  validate\r\n} from './validate'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import {isNil, get, gt, gte, lt, lte} from 'lodash'\r\nimport {Errors} from './common'\r\n\r\nexport const isNumber = ({value, config}) => {\r\n  if (config.isEmptyValue(value)) return null\r\n  const valueToTest = config.getNumber(value)\r\n  return isNaN(valueToTest) ? Errors.isNumber : null\r\n}\r\n\r\nexport const isInteger = ({value, config}) => {\r\n  if (config.isEmptyValue(value)) return null\r\n  const numberValue = config.getNumber(value)\r\n  return (!Number.isInteger(numberValue)) ? Errors.isInteger : null\r\n}\r\n\r\nconst compareSign = (value, isPositive, config) => {\r\n  let err = null\r\n\r\n  if (!config.isEmptyValue(value)) {\r\n    const numberValue = config.getNumber(value)\r\n    if (isNaN(numberValue)) {\r\n      err = Errors.isNumber\r\n    } else if (isPositive && numberValue < 0) {\r\n      err = Errors.isPositive\r\n    } else if (!isPositive && numberValue >= 0) {\r\n      err = Errors.isNegative\r\n    }\r\n  }\r\n  return err\r\n}\r\n\r\nexport const isPositive = ({value, config}) => {\r\n  return compareSign(value, true, config)\r\n}\r\n\r\nexport const isNegative = ({value, config}) => {\r\n  return compareSign(value, false, config)\r\n}\r\n\r\nconst getNumbers = (value, otherFieldName, siblings, config) => {\r\n  const ret = {value: undefined, otherFieldValue: undefined}\r\n  if (!config.isEmptyValue(value)) {\r\n    ret.value = config.getNumber(value)\r\n  }\r\n  let otherFieldValue = get(siblings, otherFieldName)\r\n  if (!config.isEmptyValue(otherFieldValue)) {\r\n    ret.otherFieldValue = config.getNumber(otherFieldValue)\r\n  }\r\n  return ret\r\n}\r\n\r\nconst compareWithOtherField = (value, otherFieldName, otherFieldLabel, siblings, config, op, errorCode) => {\r\n  let err = null\r\n  const operands = getNumbers(value, otherFieldName, siblings, config)\r\n  if (!isNaN(operands.value) && !isNaN(operands.otherFieldValue)) {\r\n    err = op(operands.value, operands.otherFieldValue) ? null : {\r\n      error: errorCode,\r\n      params: {\r\n        value,\r\n        otherFieldValue: operands.otherFieldValue,\r\n        otherFieldLabel\r\n      }\r\n    }\r\n  } else if (operands.value !== undefined && isNaN(operands.value)) {\r\n    err = Errors.isNumber\r\n  }\r\n\r\n  return err\r\n}\r\n\r\nconst compareToThreshold = (value, op, threshold, config, errorCode) => {\r\n  let err = null\r\n  let numberValue = NaN\r\n  if (!config.isEmptyValue(value)) {\r\n    numberValue = config.getNumber(value)\r\n    if (isNaN(numberValue)) {\r\n      err = Errors.isNumber\r\n    } else if (!op(numberValue, threshold)) {\r\n      err = {\r\n        error: errorCode,\r\n        params: {value, threshold}\r\n      }\r\n    }\r\n  }\r\n  return err\r\n}\r\n\r\nexport const isGte = (threshold) => {\r\n  return ({value, config}) => {\r\n    return compareToThreshold(value, gte, threshold, config, Errors.isGte)\r\n  }\r\n}\r\n\r\nexport const isGt = (threshold) => {\r\n  return ({value, config}) => {\r\n    return compareToThreshold(value, gt, threshold, config, Errors.isGt)\r\n  }\r\n}\r\n\r\nexport const isLte = (threshold) => {\r\n  return ({value, config}) => {\r\n    return compareToThreshold(value, lte, threshold, config, Errors.isLte)\r\n  }\r\n}\r\n\r\nexport const isLt = (threshold) => {\r\n  return ({value, config}) => {\r\n    return compareToThreshold(value, lt, threshold, config, Errors.isLt)\r\n  }\r\n}\r\n\r\nexport const isGteToField = (fieldName, fieldLabel) => {\r\n  return ({value, siblings, config}) => {\r\n    return compareWithOtherField(value, fieldName, fieldLabel, siblings, config, gte, Errors.isGteToField)\r\n  }\r\n}\r\n\r\nexport const isGtField = (fieldName, fieldLabel) => {\r\n  return ({value, siblings, config}) => {\r\n    return compareWithOtherField(value, fieldName, fieldLabel, siblings, config, gt, Errors.isGtField)\r\n  }\r\n}\r\n\r\nexport const isLteToField = (fieldName, fieldLabel) => {\r\n  return ({value, siblings, config}) => {\r\n    return compareWithOtherField(value, fieldName, fieldLabel, siblings, config, lte, Errors.isLteToField)\r\n  }\r\n}\r\n\r\nexport const isLtField = (fieldName, fieldLabel) => {\r\n  return ({value, siblings, config}) => {\r\n    return compareWithOtherField(value, fieldName, fieldLabel, siblings, config, lt, Errors.isLtField)\r\n  }\r\n}\r\n\r\nconst ensureRangeParamsAreValid = (minValue, maxValue) => {\r\n  if (isNil(minValue) || isNil(maxValue)) {\r\n    throw new Error('minValue and maxValue cannot be null')\r\n  } else if (minValue > maxValue) {\r\n    throw new Error('minValue > maxValue')\r\n  } else if (typeof minValue !== 'number' || typeof maxValue !== 'number') {\r\n    throw new Error('range value must be numbers')\r\n  }\r\n}\r\nexport const withinRange = (minValue, maxValue) => {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    ensureRangeParamsAreValid(minValue, maxValue)\r\n  }\r\n\r\n  return ({value, config}) => {\r\n    if (config.isEmptyValue(value)) return null\r\n    const numberValue = config.getNumber(value)\r\n    if (isNaN(numberValue)) return Errors.isNumber\r\n    if (numberValue < minValue || numberValue > maxValue) {\r\n      return {\r\n        error: Errors.withinRange,\r\n        params: {value, minValue, maxValue}\r\n      }\r\n    }\r\n    return null\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/numbers-validators.js","import {get, isArray} from 'lodash'\r\nimport {Errors} from './common'\r\n\r\n// required validators\r\nexport const required = ({value, config}) => {\r\n  return config.isEmptyValue(value) ? Errors.required : null\r\n}\r\n\r\nexport const requiredIfOtherFieldIsTrue = (otherFieldName) => {\r\n  return (params) => {\r\n    const otherFieldValue = get(params.siblings, otherFieldName, false)\r\n    if (otherFieldValue) {\r\n      return required(params)\r\n    }\r\n    return null\r\n  }\r\n}\r\n\r\nexport const requiredIfOtherFieldIsFalse = (otherFieldName) => {\r\n  return (params) => {\r\n    const otherFieldValue = get(params.siblings, otherFieldName, true)\r\n    if (!otherFieldValue) {\r\n      return required(params)\r\n    }\r\n    return null\r\n  }\r\n}\r\n\r\n// expectedFieldValue can be a single value or an array of values\r\nexport const requiredIfOtherFieldEquals = (otherFieldName, expectedFieldValue) => {\r\n  expectedFieldValue = isArray(expectedFieldValue) ? expectedFieldValue : [expectedFieldValue]\r\n  const expectedValues = new Set(expectedFieldValue)\r\n  return (params) => {\r\n    const otherFieldValue = get(params.siblings, otherFieldName, false)\r\n    if (expectedValues.has(otherFieldValue)) {\r\n      return required(params)\r\n    }\r\n    return null\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/required-validators.js","import {Errors} from './common'\r\n\r\nconst EMAIL_REGEX = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/\r\nexport const isEmail = ({value, config}) => {\r\n  if (config.isEmptyValue(value)) return null\r\n  return !EMAIL_REGEX.test(value) ? Errors.isEmail : null\r\n}\r\n\r\nexport const minLength = (minLength) => {\r\n  return ({value, config}) => {\r\n    let err = null\r\n    if (!config.isEmptyValue(value) && value.length < minLength) {\r\n      err = {error: Errors.minLength, params: {value, minLength}}\r\n    }\r\n    return err\r\n  }\r\n}\r\n\r\nexport const maxLength = (maxLength) => {\r\n  return ({value, config}) => {\r\n    let err = null\r\n    if (!config.isEmptyValue(value) && value.length > maxLength) {\r\n      err = {error: Errors.maxLength, params: {value, maxLength}}\r\n    }\r\n    return err\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/strings-validators.js","import {isObject, isArray, isFunction, keys, omit} from 'lodash'\r\nimport {defaultConfig} from './common'\r\nimport {ValidatorRunner} from './validatorRunner'\r\n\r\nconst internalProps = ['__type', '__validator', '__valueValidator']\r\n\r\nconst ensureArrayContainsOnlyFunctions = (validator, propName) => {\r\n  for (let i = 0; i < validator.length; i++) {\r\n    if (!isFunction(validator[i])) {\r\n      throw new Error(`validator definition at path ${propName} expects an array of functions. Item a index ${i} isn't one`)\r\n    }\r\n  }\r\n}\r\nconst ensureValidatorIsValid = (validator, propName) => {\r\n  if (isArray(validator)) {\r\n    ensureArrayContainsOnlyFunctions(validator, propName)\r\n  } else if (!isFunction(validator) && isObject(validator)) {\r\n    const propValidators = keys(omit(validator, internalProps))\r\n    propValidators.forEach(prop => {\r\n      const childPropName = `${propName}.${prop}`\r\n      ensureValidatorIsValid(validator[prop], childPropName)\r\n    })\r\n  } else if (!isFunction(validator)) {\r\n    throw new Error(`validator definition at path ${propName} must be an object, a function or an array of validator function`)\r\n  }\r\n}\r\n\r\nexport const validate = (values, validator, config = null) => {\r\n  config = config || defaultConfig\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (!isObject(validator)) {\r\n      throw new Error('validate second argument must be a validator object')\r\n    }\r\n    for (let prop in validator) {\r\n      ensureValidatorIsValid(validator[prop], prop)\r\n    }\r\n  }\r\n\r\n  const runner = new ValidatorRunner(values, validator, config)\r\n  return runner.run()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/validate.js","import {setWith, forEach, isArray, assign, isObject, omit, size, isNil, isFunction} from 'lodash'\nimport {ValidatorTypes} from './collections'\n\nexport const ValidatorRunner = function (entity, validators, config) {\n  this.entity = entity\n  this.validators = validators\n  assign(this, config)\n}\n\nValidatorRunner.prototype.run = function () {\n  this.errors = {}\n  this.validateObject(null, this.entity, this.validators, this.entity)\n  return this.errors\n}\n\nValidatorRunner.prototype.runFunctions = function (value, validations, siblings) {\n  let err = null\n  if (!isArray(validations)) {\n    validations = [validations]\n  }\n  for (let i = 0; !err && i < validations.length; i++) {\n    const validation = validations[i]\n    err = validation({value, siblings, entity: this.entity, config: this})\n  }\n  return err\n}\n\nconst ensureValidatorErrorIsValid = (error) => {\n  if (isObject(error)) {\n    if (isNil(error.error)) {\n      throw new Error('a custom validator returned an error object without specifying the error property')\n    }\n    const purgedError = omit(error, ['error', 'params'])\n    if (size(purgedError) > 0) {\n      throw new Error('a custom validator returned an error object with unexpected properties. Additional properties should be added to the params attribute')\n    }\n  }\n}\n\nValidatorRunner.prototype.setError = function (path, error, value) {\n  if (process.env.NODE_ENV !== 'production') {\n    ensureValidatorErrorIsValid(error)\n  }\n  const errorObject = isObject(error) ? error : {error, params: {value}}\n  const formattedError = this.formatError(errorObject)\n  setWith(this.errors, path, formattedError, Object)\n}\n\nValidatorRunner.prototype.validateField = function (propPath, value, validations, siblings) {\n  validations = isFunction(validations) ? [validations] : validations\n  const error = this.runFunctions(value, validations, siblings)\n  if (error) {\n    this.setError(propPath, error, value)\n  }\n}\n\nValidatorRunner.prototype.applyValueValidatorOnObject = function (propPath, value, valueValidator, siblings) {\n  const valueError = this.runFunctions(value, valueValidator, siblings)\n  if (valueError) {\n    this.setError(`${propPath}._error`, valueError, value)\n  }\n}\n\nValidatorRunner.prototype.validateCollectionOfObjects = function (propPath, objectsCollection, validator) {\n  forEach(objectsCollection, (object, idx) => {\n    const objectPath = `${propPath}.${idx}`\n    this.validateObject(objectPath, object, validator, object, objectsCollection)\n  })\n}\n\nValidatorRunner.prototype.validateCollectionOfValues = function (propPath, valuesCollection, validator, siblings) {\n  forEach(valuesCollection, (value, idx) => {\n    const valuePath = `${propPath}.${idx}`\n    const valueToValidate = this.getValue(valuesCollection, idx, validator, this)\n\n    this.validateField(valuePath, valueToValidate, validator, siblings)\n  })\n}\n\nValidatorRunner.prototype.validateObject = function (objectPath, object, objectValidator, siblings) {\n  for (let propNameToValidate in objectValidator) {\n    const propValidations = objectValidator[propNameToValidate]\n    const propPath = objectPath ? `${objectPath}.${propNameToValidate}` : propNameToValidate\n    const value = this.getValue(object, propNameToValidate, propValidations, this)\n\n    if (isArray(propValidations) || isFunction(propValidations)) {\n      this.validateField(propPath, value, propValidations, siblings)\n    } else if (!propValidations.__type) {\n      this.validateObject(propPath, value, propValidations, value)\n    }\n\n    if (propValidations.__valueValidator) {\n      this.applyValueValidatorOnObject(propPath, value, propValidations.__valueValidator, siblings)\n    }\n\n    if (propValidations.__type === ValidatorTypes.collectionOfObjects) {\n      this.validateCollectionOfObjects(propPath, value, propValidations.__validator)\n    } else if (propValidations.__type === ValidatorTypes.collectionOfValues) {\n      this.validateCollectionOfValues(propPath, value, propValidations.__validator, object)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/validatorRunner.js"],"sourceRoot":""}